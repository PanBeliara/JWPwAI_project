<html>
<head>
    <meta charset="utf-8">
    <title>Project</title>
    <script src="node_modules\animejs\lib\anime.min.js"></script>
    <style>
        .square
        {
            width: 100px;
            height: 100px;
        }
        .circle
        {
            border-radius: 50%;
        }
        .obstacle
        {
            background-color: black;
        }
        #mainActor
        {
            background-color: red;
            position: absolute;
            left: 0px;
            top: 0px;
        }
        .gameField
        {
            position: relative;
            border-style: solid;
            border-width: 10px;
            width: 800px;
            height: 600px;
        }
    </style>
</head>
<body>

    <button onclick="moveUp()">Up</button>
    <button onclick="moveDown()">Down</button>
    <button onclick="moveRight()">Right</button>
    <button onclick="moveLeft()">Left</button>
    <button onclick="setMainActorPosition()">Set</button>
    <div class="gameField">
        <div class="square circle" id="mainActor"></div>
    </div>
    



    <script>

        function addElement(parentId, elementTag, elementId, html) 
        {
            var p = document.getElementById(parentId);
            var newElement = document.createElement(elementTag);
            newElement.setAttribute('id', elementId);
            newElement.innerHTML = html;
            p.appendChild(newElement);
        }
        function removeElement(elementId) 
        {
            var element = document.getElementById(elementId);
            element.parentNode.removeChild(element);
        }

        class ControllableElement
        {
            id;
            color;
            y;
            x;

            constructor(id, color)
            {
                this.id = id;
                this.color = color;

                document.getElementById(id).style.backgroundColor = this.color;
            }

            setPosition(x, y)
            {
                this.x = x;
                this.y = y;
            }

            positionElement()
            {
                anime({
                    targets: '#'+this.id,
                    translateX: 100*this.x,
                    translateY: 100*this.y,
                    duration: 800
                });
            }
        }

        var mainActor = new ControllableElement("mainActor", "yellow");

        var maxY = 5;
        var maxX = 7;

        function setMainActorPosition() //test
        {
            var x = Math.floor(Math.random()*maxX);
            var y = Math.floor(Math.random()*maxY);
            mainActor.setPosition(x, y);
            mainActor.positionElement();
        }

        setMainActorPosition(); //test
        

        function moveDown()
        {
            if(mainActor.y < maxY)
            {
                mainActor.y++;
                anime({
                    targets: '#'+mainActor.id,
                    translateY: 100*mainActor.y,
                    duration: 800
                });
            }
        }
        function moveUp()
        {
            if(mainActor.y > 0)
            {
                mainActor.y--;
                anime({
                    targets: '#'+mainActor.id,
                    translateY: 100*mainActor.y,
                    duration: 800
                });
            }
        }
        function moveRight()
        {
            if(mainActor.x < maxX)
            {
                mainActor.x++;
                anime({
                    targets: '#'+mainActor.id,
                    translateX: 100*mainActor.x,
                    duration: 800
                });
            }
        }
        function moveLeft()
        {
            if(mainActor.x > 0)
            {
                mainActor.x--;
                anime({
                    targets: '#'+mainActor.id,
                    translateX: 100*mainActor.x,
                    duration: 800
                });
            }
        }
    </script>
</body>
</html>